{
  "hash": "c7400bb457494008c3c41b210c3dd643",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"A deep dive into table1\"\ndescription: \"This is a subtitle\"\ndate: \"2024-06-21\"\n--- \n\n\n<!--------------- my typical setup ----------------->\n\n\n\n\n\n<!--------------- post begins here ----------------->\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(palmerpenguins)\nlibrary(table1)\nlibrary(dplyr)\n```\n:::\n\n\nThe [table1](https://benjaminrich.github.io/table1/) package ([github link](https://github.com/benjaminrich/table1))\n\nBasic usage:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1(~ island + bill_length_mm | species, penguins)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"Rtable1\"><table class=\"Rtable1\">\n<thead>\n<tr>\n<th class='rowlabel firstrow lastrow'></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Adelie<br><span class='stratn'>(N=152)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Chinstrap<br><span class='stratn'>(N=68)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Gentoo<br><span class='stratn'>(N=124)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Overall<br><span class='stratn'>(N=344)</span></span></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td class='rowlabel firstrow'>island</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>Biscoe</td>\n<td>44 (28.9%)</td>\n<td>0 (0%)</td>\n<td>124 (100%)</td>\n<td>168 (48.8%)</td>\n</tr>\n<tr>\n<td class='rowlabel'>Dream</td>\n<td>56 (36.8%)</td>\n<td>68 (100%)</td>\n<td>0 (0%)</td>\n<td>124 (36.0%)</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Torgersen</td>\n<td class='lastrow'>52 (34.2%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>52 (15.1%)</td>\n</tr>\n<tr>\n<td class='rowlabel firstrow'>bill_length_mm</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>Mean (SD)</td>\n<td>38.8 (2.66)</td>\n<td>48.8 (3.34)</td>\n<td>47.5 (3.08)</td>\n<td>43.9 (5.46)</td>\n</tr>\n<tr>\n<td class='rowlabel'>Median [Min, Max]</td>\n<td>38.8 [32.1, 46.0]</td>\n<td>49.6 [40.9, 58.0]</td>\n<td>47.3 [40.9, 59.6]</td>\n<td>44.5 [32.1, 59.6]</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Missing</td>\n<td class='lastrow'>1 (0.7%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>1 (0.8%)</td>\n<td class='lastrow'>2 (0.6%)</td>\n</tr>\n</tbody>\n</table>\n</div>\n```\n\n:::\n:::\n\n\n## Labels\n\nAdding labels:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlabel(penguins$island) <- \"Island\"\nlabel(penguins$bill_length_mm) <- \"Bill Length (mm)\"\n\ntable1(~ island + bill_length_mm | species, penguins)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"Rtable1\"><table class=\"Rtable1\">\n<thead>\n<tr>\n<th class='rowlabel firstrow lastrow'></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Adelie<br><span class='stratn'>(N=152)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Chinstrap<br><span class='stratn'>(N=68)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Gentoo<br><span class='stratn'>(N=124)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Overall<br><span class='stratn'>(N=344)</span></span></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td class='rowlabel firstrow'>Island</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>Biscoe</td>\n<td>44 (28.9%)</td>\n<td>0 (0%)</td>\n<td>124 (100%)</td>\n<td>168 (48.8%)</td>\n</tr>\n<tr>\n<td class='rowlabel'>Dream</td>\n<td>56 (36.8%)</td>\n<td>68 (100%)</td>\n<td>0 (0%)</td>\n<td>124 (36.0%)</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Torgersen</td>\n<td class='lastrow'>52 (34.2%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>52 (15.1%)</td>\n</tr>\n<tr>\n<td class='rowlabel firstrow'>Bill Length (mm)</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>Mean (SD)</td>\n<td>38.8 (2.66)</td>\n<td>48.8 (3.34)</td>\n<td>47.5 (3.08)</td>\n<td>43.9 (5.46)</td>\n</tr>\n<tr>\n<td class='rowlabel'>Median [Min, Max]</td>\n<td>38.8 [32.1, 46.0]</td>\n<td>49.6 [40.9, 58.0]</td>\n<td>47.3 [40.9, 59.6]</td>\n<td>44.5 [32.1, 59.6]</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Missing</td>\n<td class='lastrow'>1 (0.7%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>1 (0.8%)</td>\n<td class='lastrow'>2 (0.6%)</td>\n</tr>\n</tbody>\n</table>\n</div>\n```\n\n:::\n:::\n\n\nUsing the `label<-()` function in table1 is how I've seen most people do it, but in truth there's nothing fancy here: all that the function does is set the \"label\" metadata attribute for the relevant object, so you could totally do it in base R via the `attr<-()` function:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nattr(penguins$bill_depth_mm, \"label\") <- \"Bill Depth (mm)\"\n\ntable1(~ island + bill_depth_mm | species, penguins)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"Rtable1\"><table class=\"Rtable1\">\n<thead>\n<tr>\n<th class='rowlabel firstrow lastrow'></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Adelie<br><span class='stratn'>(N=152)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Chinstrap<br><span class='stratn'>(N=68)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Gentoo<br><span class='stratn'>(N=124)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Overall<br><span class='stratn'>(N=344)</span></span></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td class='rowlabel firstrow'>Island</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>Biscoe</td>\n<td>44 (28.9%)</td>\n<td>0 (0%)</td>\n<td>124 (100%)</td>\n<td>168 (48.8%)</td>\n</tr>\n<tr>\n<td class='rowlabel'>Dream</td>\n<td>56 (36.8%)</td>\n<td>68 (100%)</td>\n<td>0 (0%)</td>\n<td>124 (36.0%)</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Torgersen</td>\n<td class='lastrow'>52 (34.2%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>52 (15.1%)</td>\n</tr>\n<tr>\n<td class='rowlabel firstrow'>Bill Depth (mm)</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>Mean (SD)</td>\n<td>18.3 (1.22)</td>\n<td>18.4 (1.14)</td>\n<td>15.0 (0.981)</td>\n<td>17.2 (1.97)</td>\n</tr>\n<tr>\n<td class='rowlabel'>Median [Min, Max]</td>\n<td>18.4 [15.5, 21.5]</td>\n<td>18.5 [16.4, 20.8]</td>\n<td>15.0 [13.1, 17.3]</td>\n<td>17.3 [13.1, 21.5]</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Missing</td>\n<td class='lastrow'>1 (0.7%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>1 (0.8%)</td>\n<td class='lastrow'>2 (0.6%)</td>\n</tr>\n</tbody>\n</table>\n</div>\n```\n\n:::\n:::\n\n\nHowever, I am slowly coming to like the `setLabel()` convenience function in table1 because it returns the labelled object and hence plays nicely with a dplyr workflow: \n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins <- penguins |> \n  mutate(\n    flipper_length_mm = setLabel(flipper_length_mm, \"Flipper Length (mm)\"),\n    body_mass_g = setLabel(body_mass_g, \"Body Mass (g)\"),\n    sex = setLabel(sex, \"Sex\"),\n    year = setLabel(year, \"Year\")\n  )\n\ntable1(~ flipper_length_mm + body_mass_g + sex + year | species, penguins)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"Rtable1\"><table class=\"Rtable1\">\n<thead>\n<tr>\n<th class='rowlabel firstrow lastrow'></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Adelie<br><span class='stratn'>(N=152)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Chinstrap<br><span class='stratn'>(N=68)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Gentoo<br><span class='stratn'>(N=124)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Overall<br><span class='stratn'>(N=344)</span></span></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td class='rowlabel firstrow'>Flipper Length (mm)</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>Mean (SD)</td>\n<td>190 (6.54)</td>\n<td>196 (7.13)</td>\n<td>217 (6.48)</td>\n<td>201 (14.1)</td>\n</tr>\n<tr>\n<td class='rowlabel'>Median [Min, Max]</td>\n<td>190 [172, 210]</td>\n<td>196 [178, 212]</td>\n<td>216 [203, 231]</td>\n<td>197 [172, 231]</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Missing</td>\n<td class='lastrow'>1 (0.7%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>1 (0.8%)</td>\n<td class='lastrow'>2 (0.6%)</td>\n</tr>\n<tr>\n<td class='rowlabel firstrow'>Body Mass (g)</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>Mean (SD)</td>\n<td>3700 (459)</td>\n<td>3730 (384)</td>\n<td>5080 (504)</td>\n<td>4200 (802)</td>\n</tr>\n<tr>\n<td class='rowlabel'>Median [Min, Max]</td>\n<td>3700 [2850, 4780]</td>\n<td>3700 [2700, 4800]</td>\n<td>5000 [3950, 6300]</td>\n<td>4050 [2700, 6300]</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Missing</td>\n<td class='lastrow'>1 (0.7%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>1 (0.8%)</td>\n<td class='lastrow'>2 (0.6%)</td>\n</tr>\n<tr>\n<td class='rowlabel firstrow'>Sex</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>female</td>\n<td>73 (48.0%)</td>\n<td>34 (50.0%)</td>\n<td>58 (46.8%)</td>\n<td>165 (48.0%)</td>\n</tr>\n<tr>\n<td class='rowlabel'>male</td>\n<td>73 (48.0%)</td>\n<td>34 (50.0%)</td>\n<td>61 (49.2%)</td>\n<td>168 (48.8%)</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Missing</td>\n<td class='lastrow'>6 (3.9%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>5 (4.0%)</td>\n<td class='lastrow'>11 (3.2%)</td>\n</tr>\n<tr>\n<td class='rowlabel firstrow'>Year</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>Mean (SD)</td>\n<td>2010 (0.822)</td>\n<td>2010 (0.863)</td>\n<td>2010 (0.792)</td>\n<td>2010 (0.818)</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Median [Min, Max]</td>\n<td class='lastrow'>2010 [2010, 2010]</td>\n<td class='lastrow'>2010 [2010, 2010]</td>\n<td class='lastrow'>2010 [2010, 2010]</td>\n<td class='lastrow'>2010 [2010, 2010]</td>\n</tr>\n</tbody>\n</table>\n</div>\n```\n\n:::\n:::\n\n\n## Custom statistics\n\nOkay so yeah you can do this to get geometric means and standard deviations...\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1(\n  x = ~ flipper_length_mm + body_mass_g + sex + year | species, \n  data = penguins, \n  render.continuous = c(\"Geometric mean\" = \"GMEAN\", \"Geometric SD\" = \"GSD\")\n)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"Rtable1\"><table class=\"Rtable1\">\n<thead>\n<tr>\n<th class='rowlabel firstrow lastrow'></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Adelie<br><span class='stratn'>(N=152)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Chinstrap<br><span class='stratn'>(N=68)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Gentoo<br><span class='stratn'>(N=124)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Overall<br><span class='stratn'>(N=344)</span></span></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td class='rowlabel firstrow'>Flipper Length (mm)</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>Geometric mean</td>\n<td>190</td>\n<td>196</td>\n<td>217</td>\n<td>200</td>\n</tr>\n<tr>\n<td class='rowlabel'>Geometric SD</td>\n<td>1.04</td>\n<td>1.04</td>\n<td>1.03</td>\n<td>1.07</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Missing</td>\n<td class='lastrow'>1 (0.7%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>1 (0.8%)</td>\n<td class='lastrow'>2 (0.6%)</td>\n</tr>\n<tr>\n<td class='rowlabel firstrow'>Body Mass (g)</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>Geometric mean</td>\n<td>3670</td>\n<td>3710</td>\n<td>5050</td>\n<td>4130</td>\n</tr>\n<tr>\n<td class='rowlabel'>Geometric SD</td>\n<td>1.13</td>\n<td>1.11</td>\n<td>1.11</td>\n<td>1.21</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Missing</td>\n<td class='lastrow'>1 (0.7%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>1 (0.8%)</td>\n<td class='lastrow'>2 (0.6%)</td>\n</tr>\n<tr>\n<td class='rowlabel firstrow'>Sex</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>female</td>\n<td>73 (48.0%)</td>\n<td>34 (50.0%)</td>\n<td>58 (46.8%)</td>\n<td>165 (48.0%)</td>\n</tr>\n<tr>\n<td class='rowlabel'>male</td>\n<td>73 (48.0%)</td>\n<td>34 (50.0%)</td>\n<td>61 (49.2%)</td>\n<td>168 (48.8%)</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Missing</td>\n<td class='lastrow'>6 (3.9%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>5 (4.0%)</td>\n<td class='lastrow'>11 (3.2%)</td>\n</tr>\n<tr>\n<td class='rowlabel firstrow'>Year</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>Geometric mean</td>\n<td>2010</td>\n<td>2010</td>\n<td>2010</td>\n<td>2010</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Geometric SD</td>\n<td class='lastrow'>1.00</td>\n<td class='lastrow'>1.00</td>\n<td class='lastrow'>1.00</td>\n<td class='lastrow'>1.00</td>\n</tr>\n</tbody>\n</table>\n</div>\n```\n\n:::\n:::\n\n\nThat's important in my job where almost every continuous variable is lognormal. You can see that this affects only the continuous variables not the discrete ones. Similarly you can do this...\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1(\n  x = ~ flipper_length_mm + body_mass_g + sex | species, \n  data = penguins, \n  render.continuous = c(\n    \"10th percentile\" = \"q10\", \n    \"50th percentile\" = \"q50\",\n    \"90th percentile\" = \"q90\"\n  )\n)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"Rtable1\"><table class=\"Rtable1\">\n<thead>\n<tr>\n<th class='rowlabel firstrow lastrow'></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Adelie<br><span class='stratn'>(N=152)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Chinstrap<br><span class='stratn'>(N=68)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Gentoo<br><span class='stratn'>(N=124)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Overall<br><span class='stratn'>(N=344)</span></span></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td class='rowlabel firstrow'>Flipper Length (mm)</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>10th percentile</td>\n<td>181</td>\n<td>187</td>\n<td>209</td>\n<td>185</td>\n</tr>\n<tr>\n<td class='rowlabel'>50th percentile</td>\n<td>190</td>\n<td>196</td>\n<td>216</td>\n<td>197</td>\n</tr>\n<tr>\n<td class='rowlabel'>90th percentile</td>\n<td>198</td>\n<td>205</td>\n<td>228</td>\n<td>221</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Missing</td>\n<td class='lastrow'>1 (0.7%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>1 (0.8%)</td>\n<td class='lastrow'>2 (0.6%)</td>\n</tr>\n<tr>\n<td class='rowlabel firstrow'>Body Mass (g)</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>10th percentile</td>\n<td>3150</td>\n<td>3300</td>\n<td>4400</td>\n<td>3300</td>\n</tr>\n<tr>\n<td class='rowlabel'>50th percentile</td>\n<td>3700</td>\n<td>3700</td>\n<td>5000</td>\n<td>4050</td>\n</tr>\n<tr>\n<td class='rowlabel'>90th percentile</td>\n<td>4300</td>\n<td>4200</td>\n<td>5700</td>\n<td>5400</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Missing</td>\n<td class='lastrow'>1 (0.7%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>1 (0.8%)</td>\n<td class='lastrow'>2 (0.6%)</td>\n</tr>\n<tr>\n<td class='rowlabel firstrow'>Sex</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>female</td>\n<td>73 (48.0%)</td>\n<td>34 (50.0%)</td>\n<td>58 (46.8%)</td>\n<td>165 (48.0%)</td>\n</tr>\n<tr>\n<td class='rowlabel'>male</td>\n<td>73 (48.0%)</td>\n<td>34 (50.0%)</td>\n<td>61 (49.2%)</td>\n<td>168 (48.8%)</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Missing</td>\n<td class='lastrow'>6 (3.9%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>5 (4.0%)</td>\n<td class='lastrow'>11 (3.2%)</td>\n</tr>\n</tbody>\n</table>\n</div>\n```\n\n:::\n:::\n\n\nThe tricky part to this is that it's not documented. You have to dig into the [source code](https://github.com/benjaminrich/table1/blob/master/R/table1.R) to work out what \"aliases\" are supported, and it's not at all clear from the documentation how this mini-language works. Looking at the source code though you can see that the following names are understood for continuous variables:\n\n- `\"N\"` and `\"NMISS\"` compute the number of non-missing observations and number of missing observations respectively\n- The strings `\"SUM\"`, `\"MEAN\"`, `\"SD\"`, `\"MEDIAN\"`, `\"MIN\"`, and `\"MAX\"` are all translated to the functions of the same name (e.g., `\"SUM\"` produces a call to `sum()`)\n- `\"CV\"` computes the coefficient of variation, i.e., 100 times the standard deviation divided by the absolute value of the mean\n- `\"GMEAN\"`, `\"GSD\"`, and `\"GCV\"` compute the geometric mean, geometric standard deviation, and geometric coefficient of variation\n- The strings `q01`, `q02.5`, `\"q05\"`, `\"q10\"`, `\"q25\"`, `\"q50\"`, `\"q75\"`, `\"q90\"`, `\"q95\"`, `\"q97.5\"`, and `\"q99\"` are understood, and compute the relevant quantiles (e.g., `\"q25\"` is translated as a function call that computes the 25th percentile)\n- Along the same lines `\"Q1\"`, `\"Q2\"`, and `\"Q3\"` are used to compute quartiles (25th, 50th, and 75th percentiles), and `\"T1\"` and `\"T2\"` are used for tertiles (33rd and 67th percentiles)\n- `\"IQR\"` computes the interquartile range\n\nIn all cases (except for `\"NMISS\"`, obviously) the statistics are computed after removing missing values.\n\nHowever, you don't have to use this mini-language. You can instead write your own function that takes the data as input and returns a vector of strings to be printed into the table. As an example, here's how you would do the same thing as the previous example by supplying the function explicitly:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrender_quantiles <- function(x, ...) {\n  vals <- quantile(x, probs = c(.1, .5, .9), na.rm = TRUE, names = FALSE)\n  strs <- c(\n    \"\",\n    \"10th percentile\" = vals[1],\n    \"50th percentile\" = vals[2],\n    \"90th percentile\" = vals[3]\n  )\n  return(strs)\n}\n```\n:::\n\n\nThe `render_quantiles()` function returns a named vector of strings: the names become the row labels (in the leftmost column of the table), and the values are printed into the table itself. \n\nHere's another example that is appropriate for discrete variable:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrender_counts <- function(x, ...) {\n  c(\"\", table(stringr::str_to_title(x)))\n}\n```\n:::\n\n\nHaving defined our render functions, we produce the table like this:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1(\n  x = ~ flipper_length_mm + body_mass_g + sex | species, \n  data = penguins, \n  render.continuous = render_quantiles,\n  render.categorical = render_counts\n)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"Rtable1\"><table class=\"Rtable1\">\n<thead>\n<tr>\n<th class='rowlabel firstrow lastrow'></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Adelie<br><span class='stratn'>(N=152)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Chinstrap<br><span class='stratn'>(N=68)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Gentoo<br><span class='stratn'>(N=124)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Overall<br><span class='stratn'>(N=344)</span></span></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td class='rowlabel firstrow'>Flipper Length (mm)</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>10th percentile</td>\n<td>181</td>\n<td>187</td>\n<td>209</td>\n<td>185</td>\n</tr>\n<tr>\n<td class='rowlabel'>50th percentile</td>\n<td>190</td>\n<td>196</td>\n<td>216</td>\n<td>197</td>\n</tr>\n<tr>\n<td class='rowlabel'>90th percentile</td>\n<td>198</td>\n<td>205</td>\n<td>228</td>\n<td>220.9</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Missing</td>\n<td class='lastrow'>1 (0.7%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>1 (0.8%)</td>\n<td class='lastrow'>2 (0.6%)</td>\n</tr>\n<tr>\n<td class='rowlabel firstrow'>Body Mass (g)</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>10th percentile</td>\n<td>3150</td>\n<td>3300</td>\n<td>4400</td>\n<td>3300</td>\n</tr>\n<tr>\n<td class='rowlabel'>50th percentile</td>\n<td>3700</td>\n<td>3700</td>\n<td>5000</td>\n<td>4050</td>\n</tr>\n<tr>\n<td class='rowlabel'>90th percentile</td>\n<td>4300</td>\n<td>4195</td>\n<td>5700</td>\n<td>5400</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Missing</td>\n<td class='lastrow'>1 (0.7%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>1 (0.8%)</td>\n<td class='lastrow'>2 (0.6%)</td>\n</tr>\n<tr>\n<td class='rowlabel firstrow'>Sex</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>Female</td>\n<td>73</td>\n<td>34</td>\n<td>58</td>\n<td>165</td>\n</tr>\n<tr>\n<td class='rowlabel'>Male</td>\n<td>73</td>\n<td>34</td>\n<td>61</td>\n<td>168</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Missing</td>\n<td class='lastrow'>6 (3.9%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>5 (4.0%)</td>\n<td class='lastrow'>11 (3.2%)</td>\n</tr>\n</tbody>\n</table>\n</div>\n```\n\n:::\n:::\n\n\nNotice, however, that neither of these two functions affect the row in the table that handles the missing values. If you want to change that, you need to specify another function:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrender_missing <- function(x, ...) {\n  c(\"Missing\" = sum(is.na(x)))\n}\n\ntable1(\n  x = ~ flipper_length_mm + body_mass_g + sex | species, \n  data = penguins, \n  render.continuous = render_quantiles,\n  render.categorical = render_counts,\n  render.missing = render_missing\n)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"Rtable1\"><table class=\"Rtable1\">\n<thead>\n<tr>\n<th class='rowlabel firstrow lastrow'></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Adelie<br><span class='stratn'>(N=152)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Chinstrap<br><span class='stratn'>(N=68)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Gentoo<br><span class='stratn'>(N=124)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Overall<br><span class='stratn'>(N=344)</span></span></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td class='rowlabel firstrow'>Flipper Length (mm)</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>10th percentile</td>\n<td>181</td>\n<td>187</td>\n<td>209</td>\n<td>185</td>\n</tr>\n<tr>\n<td class='rowlabel'>50th percentile</td>\n<td>190</td>\n<td>196</td>\n<td>216</td>\n<td>197</td>\n</tr>\n<tr>\n<td class='rowlabel'>90th percentile</td>\n<td>198</td>\n<td>205</td>\n<td>228</td>\n<td>220.9</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Missing</td>\n<td class='lastrow'>1</td>\n<td class='lastrow'>0</td>\n<td class='lastrow'>1</td>\n<td class='lastrow'>2</td>\n</tr>\n<tr>\n<td class='rowlabel firstrow'>Body Mass (g)</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>10th percentile</td>\n<td>3150</td>\n<td>3300</td>\n<td>4400</td>\n<td>3300</td>\n</tr>\n<tr>\n<td class='rowlabel'>50th percentile</td>\n<td>3700</td>\n<td>3700</td>\n<td>5000</td>\n<td>4050</td>\n</tr>\n<tr>\n<td class='rowlabel'>90th percentile</td>\n<td>4300</td>\n<td>4195</td>\n<td>5700</td>\n<td>5400</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Missing</td>\n<td class='lastrow'>1</td>\n<td class='lastrow'>0</td>\n<td class='lastrow'>1</td>\n<td class='lastrow'>2</td>\n</tr>\n<tr>\n<td class='rowlabel firstrow'>Sex</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>Female</td>\n<td>73</td>\n<td>34</td>\n<td>58</td>\n<td>165</td>\n</tr>\n<tr>\n<td class='rowlabel'>Male</td>\n<td>73</td>\n<td>34</td>\n<td>61</td>\n<td>168</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Missing</td>\n<td class='lastrow'>6</td>\n<td class='lastrow'>0</td>\n<td class='lastrow'>5</td>\n<td class='lastrow'>11</td>\n</tr>\n</tbody>\n</table>\n</div>\n```\n\n:::\n:::\n\n\nThere's still a bit of a mystery here, because the `table1()` function doesn't have arguments `render.continuous`, `render.categorical`, or `render.missing`: instead, it has a `render` argument. What's actually going on here is that the default value for `render` is the `render.default()` function exported by table1, and `render.default()` accepts `render.continuous`, `render.categorical`, or `render.missing` as arguments. In other words, what's happening in the code above is that my custom functions end up being passed to `render.default()` via the dots. \n\nThere's nothing to prevent you from bypassing this whole process by writing your own render function that handles *all* the input variables. For example, here's a very simple rendering function that counts the number of non-missing observations, and prints it in the same row as the variable name:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrender_n <- function(x, ...) sum(!is.na(x))\n\ntable1(\n  x = ~ flipper_length_mm + body_mass_g + sex | species, \n  data = penguins, \n  render = render_n\n)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"Rtable1\"><table class=\"Rtable1\">\n<thead>\n<tr>\n<th class='rowlabel firstrow lastrow'></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Adelie<br><span class='stratn'>(N=152)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Chinstrap<br><span class='stratn'>(N=68)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Gentoo<br><span class='stratn'>(N=124)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Overall<br><span class='stratn'>(N=344)</span></span></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td class='rowlabel firstrow lastrow'>Flipper Length (mm)</td>\n<td class='firstrow lastrow'>151</td>\n<td class='firstrow lastrow'>68</td>\n<td class='firstrow lastrow'>123</td>\n<td class='firstrow lastrow'>342</td>\n</tr>\n<tr>\n<td class='rowlabel firstrow lastrow'>Body Mass (g)</td>\n<td class='firstrow lastrow'>151</td>\n<td class='firstrow lastrow'>68</td>\n<td class='firstrow lastrow'>123</td>\n<td class='firstrow lastrow'>342</td>\n</tr>\n<tr>\n<td class='rowlabel firstrow lastrow'>Sex</td>\n<td class='firstrow lastrow'>146</td>\n<td class='firstrow lastrow'>68</td>\n<td class='firstrow lastrow'>119</td>\n<td class='firstrow lastrow'>333</td>\n</tr>\n</tbody>\n</table>\n</div>\n```\n\n:::\n:::\n\n\n## Tweaking tables\n\nTwo levels of stratification:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1(\n  x = ~ flipper_length_mm + body_mass_g | species * sex,\n  data = penguins |> filter(!is.na(sex))\n)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"Rtable1\"><table class=\"Rtable1\">\n<thead>\n<tr>\n<th class=\"grouplabel\"></th>\n<th colspan=\"2\" class=\"grouplabel\"><div>Adelie</div></th>\n<th colspan=\"2\" class=\"grouplabel\"><div>Chinstrap</div></th>\n<th colspan=\"2\" class=\"grouplabel\"><div>Gentoo</div></th>\n<th colspan=\"2\" class=\"grouplabel\"><div>Overall</div></th>\n</tr>\n<tr>\n<th class='rowlabel firstrow lastrow'></th>\n<th class='firstrow lastrow'><span class='stratlabel'>female<br><span class='stratn'>(N=73)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>male<br><span class='stratn'>(N=73)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>female<br><span class='stratn'>(N=34)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>male<br><span class='stratn'>(N=34)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>female<br><span class='stratn'>(N=58)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>male<br><span class='stratn'>(N=61)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>female<br><span class='stratn'>(N=165)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>male<br><span class='stratn'>(N=168)</span></span></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td class='rowlabel firstrow'>Flipper Length (mm)</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>Mean (SD)</td>\n<td>188 (5.60)</td>\n<td>192 (6.60)</td>\n<td>192 (5.75)</td>\n<td>200 (5.98)</td>\n<td>213 (3.90)</td>\n<td>222 (5.67)</td>\n<td>197 (12.5)</td>\n<td>205 (14.5)</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Median [Min, Max]</td>\n<td class='lastrow'>188 [172, 202]</td>\n<td class='lastrow'>193 [178, 210]</td>\n<td class='lastrow'>192 [178, 202]</td>\n<td class='lastrow'>201 [187, 212]</td>\n<td class='lastrow'>212 [203, 222]</td>\n<td class='lastrow'>221 [208, 231]</td>\n<td class='lastrow'>193 [172, 222]</td>\n<td class='lastrow'>201 [178, 231]</td>\n</tr>\n<tr>\n<td class='rowlabel firstrow'>Body Mass (g)</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>Mean (SD)</td>\n<td>3370 (269)</td>\n<td>4040 (347)</td>\n<td>3530 (285)</td>\n<td>3940 (362)</td>\n<td>4680 (282)</td>\n<td>5480 (313)</td>\n<td>3860 (666)</td>\n<td>4550 (788)</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Median [Min, Max]</td>\n<td class='lastrow'>3400 [2850, 3900]</td>\n<td class='lastrow'>4000 [3330, 4780]</td>\n<td class='lastrow'>3550 [2700, 4150]</td>\n<td class='lastrow'>3950 [3250, 4800]</td>\n<td class='lastrow'>4700 [3950, 5200]</td>\n<td class='lastrow'>5500 [4750, 6300]</td>\n<td class='lastrow'>3650 [2700, 5200]</td>\n<td class='lastrow'>4300 [3250, 6300]</td>\n</tr>\n</tbody>\n</table>\n</div>\n```\n\n:::\n\n```{.r .cell-code}\ntable1(\n  x = ~ flipper_length_mm + body_mass_g | species * island,\n  data = penguins\n)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"Rtable1\"><table class=\"Rtable1\">\n<thead>\n<tr>\n<th class=\"grouplabel\"></th>\n<th colspan=\"3\" class=\"grouplabel\"><div>Adelie</div></th>\n<th colspan=\"1\" class=\"grouplabel\"><div>Chinstrap</div></th>\n<th colspan=\"1\" class=\"grouplabel\"><div>Gentoo</div></th>\n<th colspan=\"3\" class=\"grouplabel\"><div>Overall</div></th>\n</tr>\n<tr>\n<th class='rowlabel firstrow lastrow'></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Biscoe<br><span class='stratn'>(N=44)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Dream<br><span class='stratn'>(N=56)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Torgersen<br><span class='stratn'>(N=52)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Dream<br><span class='stratn'>(N=68)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Biscoe<br><span class='stratn'>(N=124)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Biscoe<br><span class='stratn'>(N=168)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Dream<br><span class='stratn'>(N=124)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Torgersen<br><span class='stratn'>(N=52)</span></span></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td class='rowlabel firstrow'>Flipper Length (mm)</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>Mean (SD)</td>\n<td>189 (6.73)</td>\n<td>190 (6.59)</td>\n<td>191 (6.23)</td>\n<td>196 (7.13)</td>\n<td>217 (6.48)</td>\n<td>210 (14.1)</td>\n<td>193 (7.51)</td>\n<td>191 (6.23)</td>\n</tr>\n<tr>\n<td class='rowlabel'>Median [Min, Max]</td>\n<td>190 [172, 203]</td>\n<td>190 [178, 208]</td>\n<td>191 [176, 210]</td>\n<td>196 [178, 212]</td>\n<td>216 [203, 231]</td>\n<td>214 [172, 231]</td>\n<td>193 [178, 212]</td>\n<td>191 [176, 210]</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Missing</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>1 (1.9%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>1 (0.8%)</td>\n<td class='lastrow'>1 (0.6%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>1 (1.9%)</td>\n</tr>\n<tr>\n<td class='rowlabel firstrow'>Body Mass (g)</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>Mean (SD)</td>\n<td>3710 (488)</td>\n<td>3690 (455)</td>\n<td>3710 (445)</td>\n<td>3730 (384)</td>\n<td>5080 (504)</td>\n<td>4720 (783)</td>\n<td>3710 (417)</td>\n<td>3710 (445)</td>\n</tr>\n<tr>\n<td class='rowlabel'>Median [Min, Max]</td>\n<td>3750 [2850, 4780]</td>\n<td>3580 [2900, 4650]</td>\n<td>3700 [2900, 4700]</td>\n<td>3700 [2700, 4800]</td>\n<td>5000 [3950, 6300]</td>\n<td>4780 [2850, 6300]</td>\n<td>3690 [2700, 4800]</td>\n<td>3700 [2900, 4700]</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Missing</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>1 (1.9%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>1 (0.8%)</td>\n<td class='lastrow'>1 (0.6%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>1 (1.9%)</td>\n</tr>\n</tbody>\n</table>\n</div>\n```\n\n:::\n:::\n\n\nRemoving the overall column:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1(\n  x = ~ flipper_length_mm + body_mass_g | species,\n  data = penguins,\n  overall = FALSE\n)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"Rtable1\"><table class=\"Rtable1\">\n<thead>\n<tr>\n<th class='rowlabel firstrow lastrow'></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Adelie<br><span class='stratn'>(N=152)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Chinstrap<br><span class='stratn'>(N=68)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Gentoo<br><span class='stratn'>(N=124)</span></span></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td class='rowlabel firstrow'>Flipper Length (mm)</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>Mean (SD)</td>\n<td>190 (6.54)</td>\n<td>196 (7.13)</td>\n<td>217 (6.48)</td>\n</tr>\n<tr>\n<td class='rowlabel'>Median [Min, Max]</td>\n<td>190 [172, 210]</td>\n<td>196 [178, 212]</td>\n<td>216 [203, 231]</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Missing</td>\n<td class='lastrow'>1 (0.7%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>1 (0.8%)</td>\n</tr>\n<tr>\n<td class='rowlabel firstrow'>Body Mass (g)</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>Mean (SD)</td>\n<td>3700 (459)</td>\n<td>3730 (384)</td>\n<td>5080 (504)</td>\n</tr>\n<tr>\n<td class='rowlabel'>Median [Min, Max]</td>\n<td>3700 [2850, 4780]</td>\n<td>3700 [2700, 4800]</td>\n<td>5000 [3950, 6300]</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Missing</td>\n<td class='lastrow'>1 (0.7%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>1 (0.8%)</td>\n</tr>\n</tbody>\n</table>\n</div>\n```\n\n:::\n:::\n\n\nTweaking the header row, adding footnotes, adding captions etc:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1(\n  x = ~ flipper_length_mm + body_mass_g | species,\n  data = penguins,\n  overall = \"All Species\",\n  rowlabelhead = \"Measurement\",\n  footnote = \"Created using table1 and palmerpenguins\"\n)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"Rtable1\"><table class=\"Rtable1\">\n<thead>\n<tr>\n<th class='rowlabel firstrow lastrow'>Measurement</th>\n<th class='firstrow lastrow'><span class='stratlabel'>Adelie<br><span class='stratn'>(N=152)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Chinstrap<br><span class='stratn'>(N=68)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Gentoo<br><span class='stratn'>(N=124)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>All Species<br><span class='stratn'>(N=344)</span></span></th>\n</tr>\n<tfoot><tr><td colspan=\"5\" class=\"Rtable1-footnote\"><p>Created using table1 and palmerpenguins</p>\n</td></tr></tfoot>\n</thead>\n<tbody>\n<tr>\n<td class='rowlabel firstrow'>Flipper Length (mm)</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>Mean (SD)</td>\n<td>190 (6.54)</td>\n<td>196 (7.13)</td>\n<td>217 (6.48)</td>\n<td>201 (14.1)</td>\n</tr>\n<tr>\n<td class='rowlabel'>Median [Min, Max]</td>\n<td>190 [172, 210]</td>\n<td>196 [178, 212]</td>\n<td>216 [203, 231]</td>\n<td>197 [172, 231]</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Missing</td>\n<td class='lastrow'>1 (0.7%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>1 (0.8%)</td>\n<td class='lastrow'>2 (0.6%)</td>\n</tr>\n<tr>\n<td class='rowlabel firstrow'>Body Mass (g)</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>Mean (SD)</td>\n<td>3700 (459)</td>\n<td>3730 (384)</td>\n<td>5080 (504)</td>\n<td>4200 (802)</td>\n</tr>\n<tr>\n<td class='rowlabel'>Median [Min, Max]</td>\n<td>3700 [2850, 4780]</td>\n<td>3700 [2700, 4800]</td>\n<td>5000 [3950, 6300]</td>\n<td>4050 [2700, 6300]</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Missing</td>\n<td class='lastrow'>1 (0.7%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>1 (0.8%)</td>\n<td class='lastrow'>2 (0.6%)</td>\n</tr>\n</tbody>\n</table>\n</div>\n```\n\n:::\n:::\n\n\nAdding extra columns:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrender_p_value <- function(x, ...) {\n  dat <- bind_rows(\n    purrr::map(x, ~ data.frame(value = .)), \n    .id = \"group\"\n  )\n  mod <- aov(value ~ group, dat)\n  p <- summary(mod)[[1]][1, 5]\n  return(scales::label_pvalue()(p))\n}\n\nrender_mean_sd <- function(x, ...) {\n  paste0(\n    round(mean(x, na.rm = TRUE), 1), \n    \" (\", \n    round(sd(x, na.rm = TRUE), 1), \n    \")\"\n  )\n}\n\ntable1(\n  x = ~ flipper_length_mm + body_mass_g | species,\n  data = penguins,\n  render = render_mean_sd,\n  extra.col = list(\"p-value\" = render_p_value)\n)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"Rtable1\"><table class=\"Rtable1\">\n<thead>\n<tr>\n<th class='rowlabel firstrow lastrow'></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Adelie<br><span class='stratn'>(N=152)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Chinstrap<br><span class='stratn'>(N=68)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Gentoo<br><span class='stratn'>(N=124)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Overall<br><span class='stratn'>(N=344)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>p-value</span></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td class='rowlabel firstrow lastrow'>Flipper Length (mm)</td>\n<td class='firstrow lastrow'>190 (6.5)</td>\n<td class='firstrow lastrow'>195.8 (7.1)</td>\n<td class='firstrow lastrow'>217.2 (6.5)</td>\n<td class='firstrow lastrow'>200.9 (14.1)</td>\n<td class='firstrow lastrow'><0.001</td>\n</tr>\n<tr>\n<td class='rowlabel firstrow lastrow'>Body Mass (g)</td>\n<td class='firstrow lastrow'>3700.7 (458.6)</td>\n<td class='firstrow lastrow'>3733.1 (384.3)</td>\n<td class='firstrow lastrow'>5076 (504.1)</td>\n<td class='firstrow lastrow'>4201.8 (802)</td>\n<td class='firstrow lastrow'><0.001</td>\n</tr>\n</tbody>\n</table>\n</div>\n```\n\n:::\n:::\n\n\nCustom rendering for the strata labels:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrender_strat <- function(label, n, transpose = FALSE) {\n  sprintf(\"<span class='stratlabel'>%s</span>\", label)\n}\n\ntable1(\n  x = ~ flipper_length_mm + body_mass_g | species,\n  data = penguins,\n  render = render_mean_sd,\n  render.strat = render_strat\n)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"Rtable1\"><table class=\"Rtable1\">\n<thead>\n<tr>\n<th class='rowlabel firstrow lastrow'></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Adelie</span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Chinstrap</span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Gentoo</span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Overall</span></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td class='rowlabel firstrow lastrow'>Flipper Length (mm)</td>\n<td class='firstrow lastrow'>190 (6.5)</td>\n<td class='firstrow lastrow'>195.8 (7.1)</td>\n<td class='firstrow lastrow'>217.2 (6.5)</td>\n<td class='firstrow lastrow'>200.9 (14.1)</td>\n</tr>\n<tr>\n<td class='rowlabel firstrow lastrow'>Body Mass (g)</td>\n<td class='firstrow lastrow'>3700.7 (458.6)</td>\n<td class='firstrow lastrow'>3733.1 (384.3)</td>\n<td class='firstrow lastrow'>5076 (504.1)</td>\n<td class='firstrow lastrow'>4201.8 (802)</td>\n</tr>\n</tbody>\n</table>\n</div>\n```\n\n:::\n:::\n\n\n## Fancier tricks\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1(\n  c(\n    split(penguins, ~species), \n    split(penguins, ~sex),\n    list(\"All\" = penguins)\n  ), \n  labels = list(\n    variables = list(island = \"Island\"), \n    groups = list(\"Species\", \"Sex\", \"\")\n  ), \n  groupspan = c(3, 2, 1)\n)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"Rtable1\"><table class=\"Rtable1\">\n<thead>\n<tr>\n<th class=\"grouplabel\"></th>\n<th colspan=\"3\" class=\"grouplabel\"><div>Species</div></th>\n<th colspan=\"2\" class=\"grouplabel\"><div>Sex</div></th>\n<th colspan=\"1\" class=\"grouplabel\"></th>\n</tr>\n<tr>\n<th class='rowlabel firstrow lastrow'></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Adelie<br><span class='stratn'>(N=152)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Chinstrap<br><span class='stratn'>(N=68)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>Gentoo<br><span class='stratn'>(N=124)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>female<br><span class='stratn'>(N=165)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>male<br><span class='stratn'>(N=168)</span></span></th>\n<th class='firstrow lastrow'><span class='stratlabel'>All<br><span class='stratn'>(N=344)</span></span></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td class='rowlabel firstrow'>Island</td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n<td class='firstrow'></td>\n</tr>\n<tr>\n<td class='rowlabel'>Biscoe</td>\n<td>44 (28.9%)</td>\n<td>0 (0%)</td>\n<td>124 (100%)</td>\n<td>80 (48.5%)</td>\n<td>83 (49.4%)</td>\n<td>168 (48.8%)</td>\n</tr>\n<tr>\n<td class='rowlabel'>Dream</td>\n<td>56 (36.8%)</td>\n<td>68 (100%)</td>\n<td>0 (0%)</td>\n<td>61 (37.0%)</td>\n<td>62 (36.9%)</td>\n<td>124 (36.0%)</td>\n</tr>\n<tr>\n<td class='rowlabel lastrow'>Torgersen</td>\n<td class='lastrow'>52 (34.2%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>0 (0%)</td>\n<td class='lastrow'>24 (14.5%)</td>\n<td class='lastrow'>23 (13.7%)</td>\n<td class='lastrow'>52 (15.1%)</td>\n</tr>\n</tbody>\n</table>\n</div>\n```\n\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/table1-1.0/table1_defaults.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}