{
  "hash": "f13ca87d0c7861d19330305c1984c20e",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Baby got back references\"\ndescription: \"Now I have \\\\\\\\2 problems\"\ndate: \"2024-11-26\"\nimage: \"feather2.jpg\"\n--- \n\n\n\n<!--------------- my typical setup ----------------->\n\n\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n<style type=\"text/css\">\n@import url('https://fonts.googleapis.com/css2?family=Tangerine:wght@400;700&display=swap');\n\n.tangerine-regular {\n  font-family: \"Tangerine\", cursive;\n  font-weight: 400;\n  font-style: normal;\n}\n\n.tangerine-bold {\n  font-family: \"Tangerine\", cursive;\n  font-weight: 700;\n  font-style: normal;\n}\n</style>\n:::\n\n\n\n<!--------------- post begins here ----------------->\n\nAt least once a week I have this moment when a yawning pit of black despair opens at my feet, and the barbed tentacles of despair wrap around my legs, poison injects chill into my veins, the icy claws of anxiety rip through my viscera, and a withered voice of pure evil slithers into my brain and speaks to me in the disturbingly-seductive language of Mordor:\n\n<p class=\"tangerine-bold\" align=\"center\" style=\"font-size: 28pt\">why not write a regular expression for this?</p>\n\nI try to resist. I'm a good girl, I tell the Dark Lord. I write *readable* code. I write *maintainable* code. I kinda prefer it when my own code does not reduce me to a broken shivering wreck. Besides, I would never. Not on a first date anyway. Well, buy a girl a drink first maybe? And... oh it's so cold outside and honestly Sauron is kinda hot. Have you not watched Rings of Power? Sometimes a girl has needs.\n\nUm. Anyway. What was I talking about?\n\n<br>\n\n## Oh, not another take\n\nSo let's be very clear on what this post is not. It is not a tutorial on regular expressions. The world doesn't need another one of those. It is not an opinion piece on regular expressions. The world *definitely* doesn't need another one of those. It's something far more important than either. It is a thinly-veiled excuse for me to post Sabrina Carpenter lyrics.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfeather <- tibble::tibble(original = brio::read_lines(\"feather.txt\"))\n\nrules <- tibble::tribble(\n              ~pattern, ~replacement,\n    \"([Dd]o)(-[Dd]o)+\",         \"🎶\", # do-do, do-do-do -> musical note\n             \"feather\",         \"🪶\", # feather -> emoji feather\n                \"wine\",         \"🍷\", # wine -> emoji wine\n         \"\\\\([Aa]h\\\\)\",      \"...😌\", # (ah) -> ...emoji relief\n  \"\\\\[([^\\\\[\\\\]]+)\\\\]\",          \"~\"  # replace square bracketed text\n)\n\nstr_rewrite <- function(string, rules) {\n  purrr::reduce2(\n    .x = rules$pattern, \n    .y = rules$replacement, \n    .f = stringr::str_replace_all, \n    .init = string\n  )\n}\n\nfeather$updated <- str_rewrite(feather$original, rules)\nfeather\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 75 × 2\n   original                                       updated                   \n   <chr>                                          <chr>                     \n 1 \"[Intro]\"                                      \"~\"                       \n 2 \"(Do-do-do, do-do-do, do-do-do, do-do-do)\"     \"(🎶, 🎶, 🎶, 🎶)\"        \n 3 \"(Do-do, do-do-do, do-do-do, do-do-do)\"        \"(🎶, 🎶, 🎶, 🎶)\"        \n 4 \"Oh, not another take\"                         \"Oh, not another take\"    \n 5 \"\"                                             \"\"                        \n 6 \"[Verse 1]\"                                    \"~\"                       \n 7 \"Oh, it's like that, I'm your dream come true\" \"Oh, it's like that, I'm …\n 8 \"When it's on a platter for you\"               \"When it's on a platter f…\n 9 \"Then you pull back when I try to make plans\"  \"Then you pull back when …\n10 \"More than two hours in advance, mm\"           \"More than two hours in a…\n# ℹ 65 more rows\n```\n\n\n:::\n:::\n\n\n\n<br> \n\n::: {layout-ncol=2}\n\n![When I try to write a regular expression](feather1.jpg)\n\n![When the regular expression encounters a string](feather2.jpg)\n\n:::\n\n\n## I'm so sorry for my loss\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncat(feather$updated, sep = \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n~\n(🎶, 🎶, 🎶, 🎶)\n(🎶, 🎶, 🎶, 🎶)\nOh, not another take\n\n~\nOh, it's like that, I'm your dream come true\nWhen it's on a platter for you\nThen you pull back when I try to make plans\nMore than two hours in advance, mm\n\n~\nI slam the door, I hit ignore\nI'm saying, \"No, no, no, no more\"\nI got you blocked, after this, an afterthought\nI finally cut you off\n\n~\nI feel so much lighter like a 🪶 with you off my mind ...😌\nFloatin' through the memories like whatever, you're a waste of time ...😌\nYour signals are mixed, you act like a bitch\nYou fit every stereotype, \"Send a pic\"\nI feel so much lighter like a 🪶 with you out my life\nWith you out my life\n\n~\n(🎶, 🎶, 🎶, 🎶)\n(🎶, 🎶, 🎶, 🎶)\nLike a 🪶, like a 🪶, like a 🪶, yeah\n\n~\nIt feels so good\nNot carin' where you are tonight\nAnd it feels so good\nNot pretendin' to like the 🍷 you like\n\n~\nI slam the door (Slam the door), I hit ignore (Hit ignore)\nI'm saying, \"No, no, no, no more\"\nI got you blocked, excited to never talk, I\nI'm so sorry for your loss\n\n~\nI feel so much lighter like a 🪶 with you off my mind ...😌\nFloatin' through the memories like whatever, you're a waste of time ...😌\nYour signals are mixed, you act like a bitch (A bitch)\nYou fit every stereotype, \"Send a pic\"\nI feel so much lighter like a 🪶 with you out my life\nWith you out my life\n\n~\n(🎶, 🎶, 🎶, 🎶)\nAh, mm\n(🎶, 🎶, 🎶, 🎶)\nLike a 🪶, like a 🪶, like a 🪶\n\n~\nYou want me? I'm done\nYou miss me? No duh\nWhere I'm at, I'm up where I'm at\nYou want me? I'm done (I'm done)\nYou miss me? No duh (No duh)\nWhere I'm at, I'm up (I'm up) where I'm at\n\n~\nYou want me? I'm done\n(I feel so much lighter like a 🪶 with you off my mind)\nYou miss me? No duh\nWhere I'm at, I'm up where I'm at\n(Like a 🪶, like a 🪶, like a 🪶)\nYou want me? I'm done\n(I feel so much lighter like a 🪶 with you off my mind)\nYou miss me? No duh\nWhere I'm at, I'm up where I'm at\n(Like a 🪶, like a 🪶, like a 🪶, yeah)\n```\n\n\n:::\n:::\n\n\n\n\n## Whatever you're a waste of time\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nany_pattern <- \\(p) paste0(\"(\", p, \")\", collapse = \"|\")\n\nfeather |> \n  dplyr::mutate(\n    line = dplyr::row_number(),\n    match = stringr::str_extract_all(original, any_pattern(rules$pattern))\n  ) |> \n  tidyr::unnest_longer(\"match\") |> \n  dplyr::count(line, match)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 38 × 3\n    line match            n\n   <int> <chr>        <int>\n 1     1 [Intro]          1\n 2     2 Do-do-do         1\n 3     2 do-do-do         3\n 4     3 Do-do            1\n 5     3 do-do-do         3\n 6     6 [Verse 1]        1\n 7    12 [Pre-Chorus]     1\n 8    18 [Chorus]         1\n 9    19 (Ah)             1\n10    19 feather          1\n# ℹ 28 more rows\n```\n\n\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}